// Package models contains the types for schema 'public'.
package models

// Code generated by xo. DO NOT EDIT.

// PgColOrder represents index column order.
type PgColOrder struct {
	Ord string // ord
}

// PgGetColOrder runs a custom query, returning results as PgColOrder.
func PgGetColOrder(db XODB, schema string, index string) (*PgColOrder, error) {
	var err error

	// sql query
	const sqlstr = `SELECT ` +
		`i.indkey ` + // ::varchar AS ord
		`FROM pg_index i ` +
		`JOIN ONLY pg_class c ON c.oid = i.indrelid ` +
		`JOIN ONLY pg_namespace n ON n.oid = c.relnamespace ` +
		`JOIN ONLY pg_class ic ON ic.oid = i.indexrelid ` +
		`WHERE n.nspname = $1 AND ic.relname = $2`

	// run query
	XOLog(sqlstr, schema, index)
	var pco PgColOrder
	err = db.QueryRow(sqlstr, schema, index).Scan(&pco.Ord)
	if err != nil {
		return nil, err
	}

	return &pco, nil
}
